(function(a){a.fn.mfnMenu=function(d){var g=a(this);var e={addLast:false,arrows:false,delay:100,hoverClass:"hover",mobileInit:768,responsive:true};d=a.extend(e,d);var f=function(){a("li:has(ul)",g).addClass("submenu");a("li:has(ul)",g).append('<span class="menu-toggle"></span>');g.children("li:has( ul.mfn-megamenu )").addClass("mfn-megamenu-parent");a(".submenu ul li:last-child",g).addClass("last-item");if(d.addLast){a("> li:last-child",g).addClass("last").prev().addClass("last")}if(d.arrows){a("li ul li:has(ul) > a",g).append('<i class="menu-arrow icon-right-open"></i>')}};var c=function(){if((window.innerWidth>=d.mobileInit)||(!d.responsive)){a("> li, ul:not(.mfn-megamenu) li",g).hover(function(){a(this).stop(true,true).addClass(d.hoverClass);a(this).children("ul").stop(true,true).fadeIn(d.delay)},function(){a(this).stop(true,true).removeClass(d.hoverClass);a(this).children("ul").stop(true,true).fadeOut(d.delay)})}else{a("li",g).unbind("hover");a("li > .menu-toggle",g).off("click").on("click",function(){var h=a(this).closest("li");if(h.hasClass(d.hoverClass)){h.removeClass(d.hoverClass).children("ul").stop(true,true).fadeOut(d.delay)}else{h.addClass(d.hoverClass).children("ul").stop(true,true).fadeIn(d.delay)}})}};a(window).bind("resize",c);var b=function(){f();c()};b()}})(jQuery);